<!DOCTYPE html>
<html>
<head>
    <!--
    * Author: Alfred Sun
    -->
    <meta charset="utf-8" />
    <title>Jekyll 中用 SyntaxHighlighter</title>
    <meta name="author" content="Alfred Sun" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="本文介绍如何使用SyntaxHighlight JS插件高亮代码，以及如何在GitHub Pages中引进这个插件。 | ]Alfred's Blog" />
    <meta name="keywords" content="GitHub Pages, SyntaxHighlight">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel='stylesheet' href="/assets/stylesheets/font-awesome.css" type='text/css' />
    <link rel="stylesheet" href="/assets/stylesheets/default.css" type="text/css" />
    <link rel="stylesheet" href="/assets/stylesheets/pygments_monokai.css" type="text/css" />
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/assets/javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
    
    
  <!-- Baidu Statistics-asynchronize -->
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?a8e39b00a0e3f52df3e0deea5d0a691b";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>


    

</head>

  <body>
    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Alfred Sun</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="mailto:alfred.sunym@gmail.com" title="Gmail" style="margin-left:-5px;"><img src="/assets/images/gmail.png" alt="" width="25"/></a>
			<a href="http://github.com/Alfred-Sun" title="GitHub" target="_blank"><!--style="text-align:right"--><img src="/assets/images/GitHub-Mark.png" alt="" width="25"/></a>
            <a href="http://www.hust.edu.cn" title="HUST" target="_blank" style="text-align:center;"><img src="/assets/images/hust.png" alt="" width="25"/></a>
        </div>
    </div>

    <!--
	* post content
	-->
	<!--link rel="stylesheet" href="/assets/javascripts/google-code-prettify/prettify.css" /-->
	<style type="text/css">
		body { background:#e8e8e8; }
		@media screen and (max-width: 750px){
			body { background:#fff; }
		}
		@media screen and (max-width: 1020px){
			body { background:#fff; }
		}
	</style>

	<div id="content">
		<div class="entry">
			<h1 class="entry-title"><a href="/blog/2014/12/15/Use-Syntaxhighlighter-for-Jekyll/" title="Jekyll 中用 SyntaxHighlighter">Jekyll 中用 SyntaxHighlighter</a></h1>
			<!--p class="entry-date">2014-12-15</p-->
			<div class="pageInfo">

  


	<span>Posted by 
	
	Alfred Sun
	
	</span>



<span class="point">•</span>










<span><time datetime="2014-12-15T00:00:00+08:00" pubdate data-updated="true">2014-12-15</time></span>





<span class="point">•</span>
<span class="categories">
  
  
    
		<a href="/blog/category/#github pages-ref" title="Category: github pages" rel="category">github pages</a>
    
  

</span>



<span class="comment">
<a href="#comments_container" title="Comments"><i class="icon-comment-o"></i></a>
</span>
</div>



<div class="pageTag">
  
  
    
		<!--a href="/blog/tag/#Jekyll-ref" title="Tag: Jekyll" rel="tag">Jekyll</a-->
		<a href="/blog/tag/#Jekyll-ref" title="Tag: Jekyll" rel="tag">Jekyll</a>&nbsp;
    
		<!--a href="/blog/tag/#SyntaxHighlighter-ref" title="Tag: SyntaxHighlighter" rel="tag">SyntaxHighlighter</a-->
		<a href="/blog/tag/#SyntaxHighlighter-ref" title="Tag: SyntaxHighlighter" rel="tag">SyntaxHighlighter</a>
    
  

</div>


			<p>前几天把博客里的代码高亮改成<a href="http://alexgorbatchev.com/SyntaxHighlighter">SyntaxHighligher</a>了，感觉好了很多，看着也舒服，复制代码方便许多。下面就来简短介绍下这个工具。</p>

<blockquote>
<p><em>SyntaxHighligher is an open source Java Script client side code syntax highlighter.</em></p>
</blockquote>

<p>将它安装在 &ldquo;<strong>home page, blog, CMS, documentation CD or any other web page</strong>&quot;，用来美化你的代码。</p>

<h2>Installation</h2>

<ol>
<li>引入基本的文件： shore.js</li>
<li>添加需要的笔刷JS（如：Javascript代码使用 shBrushJScript.js；可用的笔刷列表见<a href="http://alexgorbatchev.com/SyntaxHighlighter/manual/brushes/">这里</a>）</li>
<li>引入CSS样式：shCore.css、shThemeDefault.css</li>
<li>用<code>&lt;pre /&gt;</code>或者<code>&lt;script /&gt;</code>创建代码块</li>
<li>执行JS方法：<code>SyntaxHighlighter.all()</code></li>
</ol>

<p>在Jekyll的模板页里的head里面，添加如下代码，选自己需要的语言的刷子。</p>

<!--more-->
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&#39;/static/css/syntaxhighlighter/shCore.css&#39;</span> <span class="na">rel=</span><span class="s">&#39;stylesheet&#39;</span> <span class="na">type=</span><span class="s">&#39;text/css&#39;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&#39;/static/css/syntaxhighlighter/shThemeDefault.css&#39;</span> <span class="na">rel=</span><span class="s">&#39;stylesheet&#39;</span> <span class="na">type=</span><span class="s">&#39;text/css&#39;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shCore.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="c">&lt;!-- The Following is styles for different language  --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushCpp.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushJava.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushJScript.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushPhp.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushPython.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushRuby.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;/static/js/syntaxhighlighter/shBrushPerl.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">language=</span><span class="s">&#39;javascript&#39;</span><span class="nt">&gt;</span>
  <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>其中，src里面是文件的目录，把从官网上下载的对应的js文件和css文件放到对应的目录即可。其实也可以直接引用官网的js文件，比如这样（<a href="http://alexgorbatchev.com/SyntaxHighlighter/hosting.html">参考网址</a>）</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&#39;http://alexgorbatchev.com/pub/sh/current/styles/shCore.css&#39;</span> <span class="na">rel=</span><span class="s">&#39;stylesheet&#39;</span> <span class="na">type=</span><span class="s">&#39;text/css&#39;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&#39;http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css&#39;</span> <span class="na">rel=</span><span class="s">&#39;stylesheet&#39;</span> <span class="na">type=</span><span class="s">&#39;text/css&#39;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&#39;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js&#39;</span> <span class="na">type=</span><span class="s">&#39;text/javascript&#39;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">language=</span><span class="s">&#39;javascript&#39;</span><span class="nt">&gt;</span>
    <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>做好以上准备后，就可以写代码了。SyntaxHighlighter搜索带有特殊CSS类属性的 <code>&lt;pre /&gt;</code> 标签，然后对这段代码块着色。这个属性需要设定笔刷的参数，它的值是笔刷的别名。</p>

<p>另外，Markdown 写代码的时候，不要用其代码区块的语法，直接用pre标签包起来就好。<br>
下面是个Sample（点这里看<a href="/media/demo/codeHighlight/syntaxhighlighter/shAutoloader.html">Demo</a>效果）：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&quot;brush: csharp&quot;</span><span class="nt">&gt;</span>
public IEnumerator<span class="nt">&lt;String&gt;</span> GetEnumerator()// 注意：返回什么，泛型就为什么类型
{
    for (int i = 0; i<span class="ni">&amp;lt;</span>arr_Course.Length; i++)
    {
        Course course = arr_Course[i];
        yield return &quot;选修：&quot; + course.Name;
        yield return Environment.NewLine;// 两个 yield return
    }
}
<span class="nt">&lt;/pre&gt;</span>
</code></pre></div>
<p>Jekyll Serve启动<code>localhost:4000</code>来写博客预览代码语法的高亮效果。这个比pygments更好看, 不过加载渲染比较慢。</p>

<p>注意：所有的右方括号必须是<strong>html 转义字符</strong>，例如代码块里面的 <code>&lt;</code> 必须用 <code>&amp;lt;</code> 来替换。</p>

<h2>Configuration &amp; CSS Themes</h2>

<h3>CSS Themes</h3>

<p>新版 SyntaxHighligher 支持自定义主题并提供了8个可选的官方标准主题。<br>
注意：在源码styles目录里面，还有另外的CSS文件，是把shCore.css和其他主题CSS合并在一起的CSS样式文件。如：<code>shCoreEclipse.css == shCore.css + shThemeEclipse.css</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>File</th>
</tr>
</thead><tbody>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html">Default</a></td>
<td>shThemeDefault.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme1">Django</a></td>
<td>shThemeDjango.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme2">Eclipse</a></td>
<td>shThemeEclipse.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme3">Emacs</a></td>
<td>shThemeEmacs.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme4">Fade To Grey</a></td>
<td>shThemeFadeToGrey.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme5">MDUltra</a></td>
<td>shCoreMDUltra.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme6">Midnight</a></td>
<td>shThemeMidnight.css</td>
</tr>
<tr>
<td><a href="/media/demo/codeHighlight/syntaxhighlighter/syntaxhighlighter_themes.html#theme7">RDark</a></td>
<td>shThemeRDark.css</td>
</tr>
</tbody></table>

<h3>Configured in 3 different ways</h3>

<h4>1. SyntaxHighlighter.config</h4>

<p>对语法高亮全局参数设置，主要包括：</p>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bloggerMode</td>
<td>false</td>
<td>与blogger.com集成时，必须开启该选项</td>
</tr>
<tr>
<td><a href="http://alexgorbatchev.com/SyntaxHighlighter/manual/configuration/strings.html">strings</a></td>
<td>Object</td>
<td>设定默认的显示信息,可用的信息参数包含: expandSource / help / alert / noBrush / brushNotHtmlScript / viewSource / copyToClipboard / copyToClipboardConfirmation / print 等</td>
</tr>
<tr>
<td>stripBrs</td>
<td>false</td>
<td>忽略代码块中的<code>&lt;br /&gt;</code></td>
</tr>
<tr>
<td>tagName</td>
<td>&quot;pre&rdquo;</td>
<td>自定义需要高亮的代码块的标签tag</td>
</tr>
</tbody></table>

<p>Example: </p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
    <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">strings</span><span class="p">.</span><span class="nx">viewSource</span> <span class="o">=</span> <span class="s2">&quot;view my source!!!!&quot;</span><span class="p">;</span>
    <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">bloggerMode</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<h4>2. SyntaxHighlighter.defaults</h4>

<p>对单个代码块语法高亮参数进行设置，支持的选项有：</p>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>auto-links</td>
<td>true</td>
<td>自动识别超链接，使得代码块中的URL可点击进入</td>
</tr>
<tr>
<td>class-name</td>
<td>&ldquo;</td>
<td>对代码块添加CSS类，自定义样式</td>
</tr>
<tr>
<td>collapse</td>
<td>false</td>
<td>强制初始代码块收起</td>
</tr>
<tr>
<td>first-line</td>
<td>1</td>
<td>定义代码块的起始行号</td>
</tr>
<tr>
<td>gutter</td>
<td>true</td>
<td>显示行号</td>
</tr>
<tr>
<td>highlight</td>
<td>null</td>
<td>高亮代码块中的某几行，传入的值可以是高亮多行的整型数组([1,3,7])，或仅高亮单行的数值</td>
</tr>
<tr>
<td>html-script</td>
<td>false</td>
<td>允许对HTML/XML和脚本混合代码着色，开启后必须加载<code>shBrushXml.js</code>脚本</td>
</tr>
<tr>
<td>smart-tabs</td>
<td>true</td>
<td>灵活处理代码块中的Tab字符</td>
</tr>
<tr>
<td>tab-size</td>
<td>4</td>
<td>设定显示Tab的长度</td>
</tr>
<tr>
<td>toolbar</td>
<td>true</td>
<td>代码块上显示工具栏</td>
</tr>
</tbody></table>

<p>Example: </p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">defaults</span><span class="p">[</span><span class="s1">&#39;gutter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">defaults</span><span class="p">[</span><span class="s1">&#39;smart-tabs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span>
</code></pre></div>
<h4>3. Parameters</h4>

<p>同 defaults 参数类似，可以针对单个代码块做高亮配置。相关的 Key/Value 对要跟 brush 参数一起放进 class 属性中，可以使用上面 defaults 表里面的任意属性进行配置。</p>

<p>Example: </p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&quot;brush: js; ruler: true; first-line: 10; highlight: [2, 4, 6]&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/pre&gt;</span>
</code></pre></div>
<h2>动态加载 Javascript</h2>

<p>由于每次都需要加载所有的js文件，加载速度比较慢。可以利用动态加载js来实现针对不同的语言加载不同的语法分析文件，从而提高js文件的加载速度。废话不多说，上代码：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">language=</span><span class="s">&#39;javascript&#39;</span><span class="nt">&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stdname</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;bash&#39;</span><span class="o">:</span> <span class="s1">&#39;Bash&#39;</span><span class="p">,</span>
            <span class="s1">&#39;sh&#39;</span><span class="o">:</span> <span class="s1">&#39;Bash&#39;</span><span class="p">,</span>
            <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="s1">&#39;Cpp&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cpp&#39;</span><span class="o">:</span> <span class="s1">&#39;Cpp&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cs&#39;</span><span class="o">:</span> <span class="s1">&#39;CSharp&#39;</span><span class="p">,</span>
            <span class="s1">&#39;css&#39;</span><span class="o">:</span> <span class="s1">&#39;Css&#39;</span><span class="p">,</span>
            <span class="s1">&#39;java&#39;</span><span class="o">:</span> <span class="s1">&#39;Java&#39;</span><span class="p">,</span>
            <span class="s1">&#39;js&#39;</span><span class="o">:</span> <span class="s1">&#39;JScript&#39;</span><span class="p">,</span>
            <span class="s1">&#39;php&#39;</span><span class="o">:</span> <span class="s1">&#39;Php&#39;</span><span class="p">,</span>
            <span class="s1">&#39;py&#39;</span><span class="o">:</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span>
            <span class="s1">&#39;python&#39;</span><span class="o">:</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span>
            <span class="s1">&#39;rb&#39;</span><span class="o">:</span> <span class="s1">&#39;Ruby&#39;</span><span class="p">,</span>
            <span class="s1">&#39;sql&#39;</span><span class="o">:</span> <span class="s1">&#39;Sql&#39;</span><span class="p">,</span>
            <span class="s1">&#39;vb&#39;</span><span class="o">:</span> <span class="s1">&#39;Vb&#39;</span><span class="p">,</span>
            <span class="s1">&#39;xml&#39;</span><span class="o">:</span> <span class="s1">&#39;Xml&#39;</span><span class="p">,</span>
            <span class="s1">&#39;html&#39;</span><span class="o">:</span> <span class="s1">&#39;Xml&#39;</span><span class="p">,</span>
            <span class="s1">&#39;perl&#39;</span><span class="o">:</span> <span class="s1">&#39;Perl&#39;</span>
        <span class="p">};</span>
        <span class="kd">var</span> <span class="nx">used</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="kd">var</span> <span class="nx">$t</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;pre[class^=brush]&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$t</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;/static/js/syntaxhighlighter/shCore.js&quot;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span><span class="nt">&lt;/script&gt;</span>&#39;);
        }
        $t.each(function() {
            var lang = stdname[$.trim($(this).attr(&#39;class&#39;).substring(6))];
            if (used[lang]) {
                return;
            }
            used[lang] = true;
            $(&#39;body&#39;).append(&#39;<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;/static/js/syntaxhighlighter/shBrush&#39; + lang + &#39;.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>&#39;);
        });
        if ($t.length &gt; 0) {
            $(&#39;body&#39;).append(&#39;<span class="nt">&lt;script </span><span class="na">language=</span><span class="s">&quot;javascript&quot;</span><span class="nt">&gt;</span><span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span><span class="nt">&lt;/script&gt;</span>&#39;);
        }
    });
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>把以上这段代码放在Jekyll模板页的body的最后面即可。</p>

<p>这段代码需要jQuery，1.4.2测试没问题。此外，shCore.css，shThemeDefault.css文件不是动态加载，所以，这两个文件仍然需要直接放在模板页的头部。</p>

<h2>JS Autoloader</h2>

<p>SyntaxHighlighter着色过程中，针对不同的语言需要根据适合的脚本刷子来着色，这样造成你在页面上不得不预先加载所有可能用到的brush.js。上述的动态加载方法是自己写的，同样SyntaxHighlighter官方也提供了相应的解决方案： <a href="http://alexgorbatchev.com/SyntaxHighlighter/manual/api/autoloader.html">shAutoloader.js</a>(v3.0.83) 正是为解决此问题而生，它会根据待着色代码块所使用到的笔刷配置来动态创建<code>&lt;script&gt;</code>节点以加载适合的JavaScript文件，不会造成载入多余资源的浪费。</p>

<h3>a. Dynamic Brush Loading</h3>

<p>Version 3 支持动态加载 brushes 文件，无需在同一页面加载所有 JS 。看下面的示例来说明如何使用 autoloader 脚本 - <strong>&quot;shAutoloader.js&rdquo;</strong>：</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;shCore.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;shAutoloader.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
<span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">autoloader</span><span class="p">(</span>
<span class="s1">&#39;js jscript javascript  /js/shBrushJScript.js&#39;</span><span class="p">,</span>
<span class="s1">&#39;applescript            /js/shBrushAppleScript.js&#39;</span>
<span class="p">);</span>

<span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>解释下上面的意思：任何使用 js, jscript, javascript 和 applescript 笔刷的代码块，都会触发这个脚本，动态加载相应的JS文件。</p>

<h3>b. API</h3>
<div class="highlight"><pre><code class="language-text" data-lang="text">SyntaxHighlighter.autoloader(brushes)
</code></pre></div>
<p>brushes 参数说明</p>

<ul>
<li>Array: [ &lsquo;alias1 alias2 /full/path/to/brush.js&rsquo;, &hellip; ]<br>
以空白符为分隔符的字符串数组，字符串的最后一个值是笔刷JS文件的路径，其他值是brush别名</li>
<li>Array: [ [ &lsquo;alias1&rsquo;, &lsquo;alias2&rsquo;, &lsquo;/full/path/to/brush.js&rsquo; ], &hellip; ]<br>
字符串组成的二维数组，数组中最后一个字符串值是JS路径，其他字符串值是brush别名</li>
</ul>

<h3>c. Example 示例</h3>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="kd">function</span> <span class="nx">path</span><span class="p">()</span>
<span class="lineno"> 2</span> <span class="p">{</span>
<span class="lineno"> 3</span> <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">,</span>
<span class="lineno"> 4</span>  <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
<span class="lineno"> 5</span>  
<span class="lineno"> 6</span> <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
<span class="lineno"> 7</span>  <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">,</span> <span class="s1">&#39;/pub/sh/current/scripts/&#39;</span><span class="p">));</span>
<span class="lineno"> 8</span>   
<span class="lineno"> 9</span> <span class="k">return</span> <span class="nx">result</span>
<span class="lineno">10</span> <span class="p">};</span>
<span class="lineno">11</span> 
<span class="lineno">12</span> <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">autoloader</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">path</span><span class="p">(</span>
<span class="lineno">13</span> <span class="s1">&#39;applescript            @shBrushAppleScript.js&#39;</span><span class="p">,</span>
<span class="lineno">14</span> <span class="s1">&#39;actionscript3 as3      @shBrushAS3.js&#39;</span><span class="p">,</span>
<span class="lineno">15</span> <span class="s1">&#39;bash shell             @shBrushBash.js&#39;</span><span class="p">,</span>
<span class="lineno">16</span> <span class="s1">&#39;coldfusion cf          @shBrushColdFusion.js&#39;</span><span class="p">,</span>
<span class="lineno">17</span> <span class="s1">&#39;cpp c                  @shBrushCpp.js&#39;</span><span class="p">,</span>
<span class="lineno">18</span> <span class="s1">&#39;c# c-sharp csharp      @shBrushCSharp.js&#39;</span><span class="p">,</span>
<span class="lineno">19</span> <span class="s1">&#39;css                    @shBrushCss.js&#39;</span><span class="p">,</span>
<span class="lineno">20</span> <span class="s1">&#39;delphi pascal          @shBrushDelphi.js&#39;</span><span class="p">,</span>
<span class="lineno">21</span> <span class="s1">&#39;diff patch pas         @shBrushDiff.js&#39;</span><span class="p">,</span>
<span class="lineno">22</span> <span class="s1">&#39;erl erlang             @shBrushErlang.js&#39;</span><span class="p">,</span>
<span class="lineno">23</span> <span class="s1">&#39;groovy                 @shBrushGroovy.js&#39;</span><span class="p">,</span>
<span class="lineno">24</span> <span class="s1">&#39;java                   @shBrushJava.js&#39;</span><span class="p">,</span>
<span class="lineno">25</span> <span class="s1">&#39;jfx javafx             @shBrushJavaFX.js&#39;</span><span class="p">,</span>
<span class="lineno">26</span> <span class="s1">&#39;js jscript javascript  @shBrushJScript.js&#39;</span><span class="p">,</span>
<span class="lineno">27</span> <span class="s1">&#39;perl pl                @shBrushPerl.js&#39;</span><span class="p">,</span>
<span class="lineno">28</span> <span class="s1">&#39;php                    @shBrushPhp.js&#39;</span><span class="p">,</span>
<span class="lineno">29</span> <span class="s1">&#39;text plain             @shBrushPlain.js&#39;</span><span class="p">,</span>
<span class="lineno">30</span> <span class="s1">&#39;py python              @shBrushPython.js&#39;</span><span class="p">,</span>
<span class="lineno">31</span> <span class="s1">&#39;ruby rails ror rb      @shBrushRuby.js&#39;</span><span class="p">,</span>
<span class="lineno">32</span> <span class="s1">&#39;sass scss              @shBrushSass.js&#39;</span><span class="p">,</span>
<span class="lineno">33</span> <span class="s1">&#39;scala                  @shBrushScala.js&#39;</span><span class="p">,</span>
<span class="lineno">34</span> <span class="s1">&#39;sql                    @shBrushSql.js&#39;</span><span class="p">,</span>
<span class="lineno">35</span> <span class="s1">&#39;vb vbnet               @shBrushVb.js&#39;</span><span class="p">,</span>
<span class="lineno">36</span> <span class="s1">&#39;xml xhtml xslt html    @shBrushXml.js&#39;</span>
<span class="lineno">37</span> <span class="p">));</span>
<span class="lineno">38</span> <span class="nx">SyntaxHighlighter</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span></code></pre></div>


			
			<footer>
			<p class="meta">
			
            <a class="basic-alignment left" href="/blog/2014/12/13/How-to-Use-GitHub-Effectively/" title="Previous Post: 如何高效利用GitHub">&laquo; 如何高效利用GitHub</a>
            
            
            <a class="basic-alignment right" href="/blog/2014/12/15/Use-google-code-prettify-for-jekyll/" title="Next Post: Jekyll 中用 Google Code Prettify">Jekyll 中用 Google Code Prettify &raquo;</a>
            
			</p>
			</footer>
			

			<div id="comments_container">
				<div style="margin-bottom: 20px;" class="right">
					<!--script type="text/javascript" charset="utf-8">
					(function(){
					  var _w = 86 , _h = 16;
					  var param = {
						url:location.href,
						type:'6',
						count:'', /**是否显示分享数，1显示(可选)*/
						appkey:'2175179791', /**您申请的应用appkey,显示分享来源(可选)*/
						title:'', /**分享的文字内容(可选，默认为所在页面的title)*/
						pic:'', /**分享图片的路径(可选)*/
						ralateUid:'1660678190', /**关联用户的UID，分享微博会@该用户(可选)*/
						language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/
						rnd:new Date().valueOf()
					  }
					  var temp = [];
					  for( var p in param ){
						temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
					  }
					  document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="'+ _w+'" height="'+_h+'"></iframe>')
					})()
					</script-->
					<div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a class="bds_count" data-cmd="count"></a><!--//在此处增加或删除标签来进行展现控制--></div>
                    <script>
var pic_url="",pic_all=$(".entry").find("img");if(pic_all.length!==0){pic_url=pic_all[0].src;}
window._bd_share_config={"common":{"bdSnsKey":{"tsina":"2175179791"},"bdWbuid":"1660678190","bdText":"Jekyll 中用 SyntaxHighlighter | Vermillion Phoinix by Alfred Sun //本文介绍如何使用SyntaxHighlight JS插件高亮代码，以及如何在GitHub Pages中引进这个插件。 ...","bdMini":"2","bdMiniList":false,"bdPic":pic_url,"bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
                    </script>
				</div>
				<div style="margin-bottom: 52px;">
					<p style="float: left; margin-bottom: 25px; margin-right: 15px; font-size: 18px; font-weight: bold;">[Comments]: </p>
					<ul><li>
					<a href="#" class="comment" onclick="return false;">Disqus </a></li>
					<li><a href="#" class="comment_" onclick="return false;">Duoshuo</a></li>
				</div>
				<div id="disqus_thread"></div>
				<div class="ds-thread" data-thread-key="/blog/2014/12/15/Use-Syntaxhighlighter-for-Jekyll" data-title="Jekyll 中用 SyntaxHighlighter | Vermillion Phoinix by Alfred Sun" data-url="/blog/2014/12/15/Use-Syntaxhighlighter-for-Jekyll/"></div>
			</div>

			<div id="footer">
			<div class="hide">
	<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253608568'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1253608568%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>
</div>
<div class="scroll-top-down">
	<div class="js-scroll-top" title="返回顶部"><i class="icon-chevron-circle-up"></i></div>
	<div class="js-scroll-comment" title="查看评论"><i class="icon-comments-o"></i></div>
	<div class="js-scroll-down" title="转到底部"><i class="icon-chevron-circle-down"></i></div>
</div>

			<!-- % include disqus.html % 
% include facebook_like.html %
% include google_plus_one.html %
% include twitter_sharing.html % -->
<script type="text/javascript" src="/assets/javascripts/main.min.js"></script>
<script>
  $(function() {
	  //$("#qr-code").popup({transition: "all 0.3s"});
	  //$("#system-tip").popup({transition: "all 0.3s"});
	  //$("#system-confirm-tip").popup({transition: "all 0.3s"});
	  Tmt.global.scrollTopDown();
	  //Tmt.nav_dropdown.bound();
	  //Tmt.global.globalSearch($(".top-serarch-form"));
  });
</script>

			</div>
		</div> <!-- end of entry -->

		<div class="sidenav">
			<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=75&fansRow=2&ptype=0&speed=0&skin=1&isTitle=0&noborder=1&isWeibo=0&isFans=0&uid=1660678190&verifier=9abf32ae&dpc=1"></iframe>
			<!-- a href="http://9.douban.com/reader/subscribe?url=http://alfred-sun.github.io/blog/2014/12/15/Use-Syntaxhighlighter-for-Jekyll/" target="_blank">
				<img src="http://img3.douban.com/f/ninetaps/dbd3f87c660f664b629daaeee36f5075ed553eb7/pics/feedbutton1.gif"/></a>
            <script type="text/javascript" src="http://9.douban.com/js/button_widget.js"></script -->
		</div>

		<div class="sidenav">
			<h2>Related Blog</h2>
			<ul class="artical-list">
			
				
				
					<li><a href="/blog/2015/01/10/jekyll-liquid-syntax-documentation/">Jekyll/Liquid API 语法文档</a></li>
				
				
				
					<li><a href="/blog/2014/12/16/github-pages-issue/">GitHub Pages Issue</a></li>
				
				
				
					<li><a href="/blog/2014/12/15/use-highlight.js-for-jekyll/">Jekyll 中用 Highlight.js</a></li>
				
				
				
					<li><a href="/blog/2014/12/15/Use-google-code-prettify-for-jekyll/">Jekyll 中用 Google Code Prettify</a></li>
				
				
				
				
				
					<li><a href="/blog/2014/12/11/jekykll-jquery-asyn-load/">用Jekyll和jQuery实现异步加载文章列表</a></li>
				
				
				
					<li><a href="/blog/2014/12/11/generate-tags-with-js-in-jekyll/">用js在jekyll博客中实现标签云和标签页</a></li>
				
				
			
			</ul>
		</div>
	</div> <!-- end of content -->
	<script src="/assets/javascripts/post.min.js" type="text/javascript"></script>

    <!--div class="hide">
        <script type="text/javascript" src="http://js.tongji.linezing.com/2727758/tongji.js"></script>
        <noscript><a href="http://www.linezing.com"><img src="http://img.tongji.linezing.com/2727758/tongji.gif"/></a></noscript>
        <!--span id="cnzz_stat_icon_1253608568"><a href="http://www.cnzz.com/stat/website.php?web_id=1253608568" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="http://icon.cnzz.com/img/pic1.gif"></a></span>
        <script src=" http://s11.cnzz.com/z_stat.php?id=1253608568&amp;show=pic1" type="text/javascript"></script>
        <script src="http://c.cnzz.com/core.php?web_id=1253608568&amp;show=pic1&amp;t=z" charset="utf-8" type="text/javascript"></script>
    </div-->
    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>

  </body>
</html>
